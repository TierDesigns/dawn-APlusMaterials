{%- assign APLUS_BG_ASSET = '186151471710da20014a7de77d7e3230.jpg' -%}
{%- assign APLUS_BG_URL   = '186151471710da20014a7de77d7e3230.jpg' -%}
{%- assign APLUS_OVERLAY_OPACITY = 0.45 -%}

{%- if APLUS_BG_ASSET != blank -%}
  {%- assign APLUS_BG = APLUS_BG_ASSET | asset_url -%}
{%- elsif APLUS_BG_URL != blank -%}
  {%- assign APLUS_BG = APLUS_BG_URL -%}
{%- else -%}
  {%- assign APLUS_BG = '' -%}
{%- endif -%}

<style>
  .a-plus-welcome{--pad:clamp(18px,3vw,36px); --radius:18px}
  .a-plus-hero{
    position:relative;min-height:calc(100vh - 140px);
    display:grid;place-items:center;padding:var(--pad)
  }
  .a-plus-hero__bg{
    position:absolute;inset:0;background-size:cover;background-position:center;transform:translateZ(0)
  }
  .a-plus-hero__overlay{position:absolute;inset:0}
  .a-plus-hero__inner{
    position:relative;z-index:1;color:#fff;text-align:center;
    max-width:min(900px,92vw);padding:clamp(16px,2.5vw,28px);
    backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
    background:rgba(0,0,0,0.22);
    border:1px solid rgba(255,255,255,.12); border-radius:var(--radius);
    box-shadow:0 10px 30px rgba(0,0,0,.25);
  }
  .a-plus-kicker{letter-spacing:.18em;text-transform:uppercase;font-size:.78rem;opacity:.85;margin:0 0 .4rem}
  .a-plus-title{font-size:clamp(22px,4.6vw,42px);line-height:1.2;margin:.2rem 0 .6rem;font-weight:700}
  .a-plus-body{font-size:clamp(14px,2.2vw,18px);line-height:1.8;opacity:.95;margin:0 auto 1rem}
  .a-plus-form{display:flex;gap:10px;justify-content:center;align-items:center;margin:.5rem 0}
  .a-plus-form input[type=email]{
    width:min(460px,80vw);padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.35);
    background:rgba(0,0,0,.25);color:#fff;outline:none
  }
  .a-plus-form input::placeholder{color:rgba(255,255,255,.75)}
  .a-plus-btn{
    padding:12px 18px;border-radius:10px;border:0;background:#fff;color:#000;font-weight:600;cursor:pointer
  }
  .a-plus-btn:focus{outline:2px solid #fff;outline-offset:2px}
  .a-plus-consent{display:block;margin-top:.4rem;opacity:.85}
  .a-plus-consent a{color:#fff;text-decoration:underline}
  .a-plus-feedback{margin-top:.6rem}
  .a-plus-ok{color:#c9ffd6}
  .a-plus-ng{color:#ffd6d6}
  @media (max-width: 480px){
    .a-plus-form{flex-direction:column;align-items:stretch}
    .a-plus-btn{width:100%}
  }
</style>

<div class="a-plus-welcome">
  <div class="a-plus-hero">
    {%- if APLUS_BG != blank -%}
      <div class="a-plus-hero__bg" style="background-image:url('{{ APLUS_BG }}');"></div>
      <div class="a-plus-hero__overlay" style="background:linear-gradient(to bottom, rgba(0,0,0,{{ APLUS_OVERLAY_OPACITY }}), rgba(0,0,0,{{ APLUS_OVERLAY_OPACITY | plus: 0.2 }}));"></div>
    {%- else -%}
      <div class="a-plus-hero__bg" style="background:linear-gradient(135deg,#0e0e0e,#1c1c1c);"></div>
    {%- endif -%}

    <img width="200px" height="200px" src="shopify://shop_images/186151471710da20014a7de77d7e3230.jpg">

    <div class="a-plus-hero__inner">
      <p class="a-plus-kicker">COMING SOON</p>
      <h1 class="a-plus-title">日本に、次世代カーボンコンポジットを。</h1>
      <div class="a-plus-body">
        早期アクセスありがとうございます。A+ Materialsは、ホビーからプロフェッショナルまで、次世代のカーボンコンポジット資材と実践的な教育コンテンツを提供します。あなたの“つくる力”を、もっと自由に、もっと高品質に。
      </div>

      {%- form 'customer', id: 'a-plus-welcome-newsletter' -%}
        <input type="hidden" name="contact[tags]" value="newsletter, coming-soon, aplusmaterials">
        <div class="a-plus-form">
          <input type="email" name="contact[email]" required placeholder="メールアドレス" aria-label="メールアドレス" inputmode="email" autocapitalize="off" autocomplete="email">
          <button type="submit" class="a-plus-btn">登録</button>
        </div>
        <small class="a-plus-consent">
          登録により最新情報の配信に同意します。
          {%- if routes.policy_privacy_url -%}
            <a href="{{ routes.policy_privacy_url }}">プライバシーポリシー</a>
          {%- endif -%}
        </small>

        {%- if form.posted_successfully? -%}
          <p class="a-plus-feedback a-plus-ok">登録ありがとうございます。公開時にご案内します。</p>
        {%- elsif form.errors -%}
          <p class="a-plus-feedback a-plus-ng">送信に失敗しました。メールアドレスをご確認ください。</p>
        {%- endif -%}
      {%- endform -%}
    </div>
  </div>
</div>
